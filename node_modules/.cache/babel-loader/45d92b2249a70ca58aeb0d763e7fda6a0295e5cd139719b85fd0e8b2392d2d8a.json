{"ast":null,"code":"import{useOrganization,useOrganizationList,useUser}from'@clerk/clerk-react';import React,{useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import'./GroupPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GroupPage=()=>{var _memberships$data,_memberships$data2,_organization$private;const{id}=useParams();const navigate=useNavigate();const{user}=useUser();const{setActive}=useOrganizationList();const{organization,isLoaded,memberships}=useOrganization({memberships:{infinite:true,includePublicUserData:true}});useEffect(()=>{const setActiveOrganization=async()=>{try{await setActive({organization:id});}catch(error){console.error(\"Error setting active organization:\",error);}};if(id){setActiveOrganization();}},[id,setActive]);if(!isLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:\"Loading...\"})});}if(!organization){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Group not found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The group you're looking for doesn't exist or you don't have access to it.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>navigate('/create-group'),children:\"Create New Group\"})]});}const activeMembers=(memberships===null||memberships===void 0?void 0:(_memberships$data=memberships.data)===null||_memberships$data===void 0?void 0:_memberships$data.filter(member=>member.status==='active'))||[];const pendingInvites=(memberships===null||memberships===void 0?void 0:(_memberships$data2=memberships.data)===null||_memberships$data2===void 0?void 0:_memberships$data2.filter(member=>member.status==='pending'))||[];const createdDate=new Date(organization.createdAt).toLocaleDateString();return/*#__PURE__*/_jsxs(\"div\",{className:\"group-page-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"group-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:organization.name}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:((_organization$private=organization.privateMetadata)===null||_organization$private===void 0?void 0:_organization$private.description)||'No description provided'}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Created: \",createdDate]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Active Members: \",activeMembers.length]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Pending Invites: \",pendingInvites.length]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"group-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"members-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Members (\",activeMembers.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"members-list\",children:activeMembers.map(member=>{var _member$publicUserDat,_member$publicUserDat2,_member$publicUserDat3,_member$publicUserDat4;return/*#__PURE__*/_jsxs(\"div\",{className:\"member-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"member-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_member$publicUserDat=member.publicUserData)===null||_member$publicUserDat===void 0?void 0:_member$publicUserDat.imageUrl)||'/default-avatar.png',alt:((_member$publicUserDat2=member.publicUserData)===null||_member$publicUserDat2===void 0?void 0:_member$publicUserDat2.identifier)||'Member',className:\"member-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"member-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"member-name\",children:[(_member$publicUserDat3=member.publicUserData)===null||_member$publicUserDat3===void 0?void 0:_member$publicUserDat3.identifier,((_member$publicUserDat4=member.publicUserData)===null||_member$publicUserDat4===void 0?void 0:_member$publicUserDat4.userId)===(user===null||user===void 0?void 0:user.id)&&' (You)']}),/*#__PURE__*/_jsx(\"span\",{className:\"member-role\",children:member.role})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"member-status active\",children:\"Active\"})]},member.id);})}),pendingInvites.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"pending-header\",children:[\"Pending Invites (\",pendingInvites.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"members-list\",children:pendingInvites.map(invite=>/*#__PURE__*/_jsxs(\"div\",{className:\"member-card pending\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"member-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"member-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"member-name\",children:invite.emailAddress}),/*#__PURE__*/_jsx(\"span\",{className:\"member-role\",children:\"Invited\"})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"member-status pending\",children:\"Pending\"})]},invite.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>navigate('/add-bill'),children:\"Add Bill\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>navigate('/expenses'),children:\"View Expenses\"})]})]})]});};export default GroupPage;","map":{"version":3,"names":["useOrganization","useOrganizationList","useUser","React","useEffect","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GroupPage","_memberships$data","_memberships$data2","_organization$private","id","navigate","user","setActive","organization","isLoaded","memberships","infinite","includePublicUserData","setActiveOrganization","error","console","className","children","onClick","activeMembers","data","filter","member","status","pendingInvites","createdDate","Date","createdAt","toLocaleDateString","name","privateMetadata","description","length","map","_member$publicUserDat","_member$publicUserDat2","_member$publicUserDat3","_member$publicUserDat4","src","publicUserData","imageUrl","alt","identifier","userId","role","invite","emailAddress"],"sources":["C:/Users/shaur/OneDrive/Desktop/AiProject/my-react-app/src/components/GroupPage.jsx"],"sourcesContent":["import { useOrganization, useOrganizationList, useUser } from '@clerk/clerk-react';\nimport React, { useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport './GroupPage.css';\n\nconst GroupPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useUser();\n  const { setActive } = useOrganizationList();\n  const { organization, isLoaded, memberships } = useOrganization({\n    memberships: {\n      infinite: true,\n      includePublicUserData: true\n    }\n  });\n\n  useEffect(() => {\n    const setActiveOrganization = async () => {\n      try {\n        await setActive({ organization: id });\n      } catch (error) {\n        console.error(\"Error setting active organization:\", error);\n      }\n    };\n\n    if (id) {\n      setActiveOrganization();\n    }\n  }, [id, setActive]);\n\n  if (!isLoaded) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!organization) {\n    return (\n      <div className=\"error-container\">\n        <h2>Group not found</h2>\n        <p>The group you're looking for doesn't exist or you don't have access to it.</p>\n        <button \n          className=\"action-btn\"\n          onClick={() => navigate('/create-group')}\n        >\n          Create New Group\n        </button>\n      </div>\n    );\n  }\n\n  const activeMembers = memberships?.data?.filter(member => member.status === 'active') || [];\n  const pendingInvites = memberships?.data?.filter(member => member.status === 'pending') || [];\n  const createdDate = new Date(organization.createdAt).toLocaleDateString();\n\n  return (\n    <div className=\"group-page-container\">\n      <header className=\"group-header\">\n        <h1>{organization.name}</h1>\n        <p className=\"description\">\n          {organization.privateMetadata?.description || 'No description provided'}\n        </p>\n        <div className=\"group-meta\">\n          <span>Created: {createdDate}</span>\n          <span>Active Members: {activeMembers.length}</span>\n          <span>Pending Invites: {pendingInvites.length}</span>\n        </div>\n      </header>\n\n      <section className=\"group-content\">\n        <div className=\"members-section\">\n          <h2>Members ({activeMembers.length})</h2>\n          <div className=\"members-list\">\n            {activeMembers.map((member) => (\n              <div key={member.id} className=\"member-card\">\n                <div className=\"member-info\">\n                  <img \n                    src={member.publicUserData?.imageUrl || '/default-avatar.png'} \n                    alt={member.publicUserData?.identifier || 'Member'} \n                    className=\"member-avatar\"\n                  />\n                  <div className=\"member-details\">\n                    <span className=\"member-name\">\n                      {member.publicUserData?.identifier}\n                      {member.publicUserData?.userId === user?.id && ' (You)'}\n                    </span>\n                    <span className=\"member-role\">{member.role}</span>\n                  </div>\n                </div>\n                <span className=\"member-status active\">Active</span>\n              </div>\n            ))}\n          </div>\n\n          {pendingInvites.length > 0 && (\n            <>\n              <h2 className=\"pending-header\">\n                Pending Invites ({pendingInvites.length})\n              </h2>\n              <div className=\"members-list\">\n                {pendingInvites.map((invite) => (\n                  <div key={invite.id} className=\"member-card pending\">\n                    <div className=\"member-info\">\n                      <div className=\"member-details\">\n                        <span className=\"member-name\">\n                          {invite.emailAddress}\n                        </span>\n                        <span className=\"member-role\">Invited</span>\n                      </div>\n                    </div>\n                    <span className=\"member-status pending\">Pending</span>\n                  </div>\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n\n        <div className=\"group-actions\">\n          <button \n            className=\"action-btn\"\n            onClick={() => navigate('/add-bill')}\n          >\n            Add Bill\n          </button>\n          <button \n            className=\"action-btn\"\n            onClick={() => navigate('/expenses')}\n          >\n            View Expenses\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default GroupPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}